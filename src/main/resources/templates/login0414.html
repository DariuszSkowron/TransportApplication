<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">



    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>
<body>
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header text-center">
            <h3>Login</h3>
        </div>
        <div class="col-md-12">
            Login via
            <div class="social-buttons">
                <a href="#" th:href="@{/auth/facebook}" class="btn btn-fb"><i class="fab fa-facebook"></i> Facebook</a>
                <a href="#" th:href="@{/auth/google}" class="btn btn-tw"><i class="fab fa-google"></i> Google</a>
                <a href="#" th:href="@{/auth/twitter}" class="btn btn-tw"><i class="fab fa-twitter"></i> Google</a>
                <a href="#" th:href="@{/auth/linkedin}" class="btn btn-tw"><i class="fab fa-linkedin"></i> Google</a>
            </div>
            <div class="modal-body">
                <div class="col-sm-1">
                    <hr>
                </div>
                <div class="col-sm-5">
                    <div style="padding-top:15px;">
                        <div th:if="${param.error}">
                            <div class="alert alert-danger">
                                Invalid username or password, if you already registred you can try to resend validation token <a href="/resendToken" th:href="@{/resendToken}">here</a>
                            </div>
                        </div>
                        <div th:if="${param.logout}">
                            <div class="alert alert-info">
                                You have been logged out.
                            </div>
                        </div>
                        <!--<form th:action="@{/j_spring_security_check}" class="form" role="form" autocomplete="off" id="loginForm" novalidate="" method="POST">-->
                        <form th:action="@{/j_spring_security_check}" th:object="${loginForm}" method="post">


                            <div class="form-group"
                                 th:classappend="${#fields.hasErrors('userName')}? 'has-error':''">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="glyphicon glyphicon-user color-blue"></i>
                                        </span>
                                    <input id="userName"
                                           class="form-control"
                                           placeholder="User Name"
                                           th:field="*{userName}"/>
                                </div>
                                <p class="error-message"
                                   th:each="error: ${#fields.errors('userName')}"
                                   th:text="${error}">Validation error</p>
                            </div>
                            <div class="form-group"
                                 th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
                                <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="glyphicon glyphicon-lock"></i>
                                        </span>
                                    <input id="password"
                                           class="form-control"
                                           placeholder="password"
                                           type="password"
                                           th:field="*{password}"/>
                                </div>
                                <ul class="text-left"
                                    th:each="error: ${#fields.errors('password')}">
                                    <li th:each="message : ${error.split(',')}">
                                        <p class="error-message"
                                           th:text="${message}"></p>
                                    </li>
                                </ul>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="rememberMe">
                                <label class="custom-control-label" for="rememberMe">Remember me on this computer</label>
                            </div>
                            <div class="form-group py-4">
                                <button class="btn btn-outline-secondary btn-lg" data-dismiss="modal" aria-hidden="true">Cancel</button>
                                <button type="submit" th:action="@{/indexLog}"  class="btn btn-success btn-lg float-right" id="btnLogin">Login</button>
                            </div>
                        </form>
</body>
</html>